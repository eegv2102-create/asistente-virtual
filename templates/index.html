<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes">
    <title>Asistente de Programación Avanzada</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="/static/js/script.js" defer></script>
    <!-- Librerías externas si las usas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.2/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
</head>
<body>
    <div class="menu-toggle">☰</div>
    
    <div class="container">
        <h2>💻 Asistente de Programación Avanzada</h2>

        <div class="main-layout">
            <div class="left-section">
                <button id="menu-toggle" class="menu-btn" data-tooltip="Menú">📚</button>
                <button id="modo-btn" data-tooltip="Cambiar Modo">☀️</button>
                <button id="voice-btn" data-tooltip="Activar/Desactivar Voz">🔊</button>
                <button id="export-txt-btn" data-tooltip="Exportar TXT">📄</button>
                <button id="export-pdf-btn" data-tooltip="Exportar PDF">📜</button>
                <button id="limpiar-chat" data-tooltip="Limpiar Chat">🗑️</button>
                <button id="nueva-conversacion" data-tooltip="Nueva Conversación">➕</button>
                <button id="quiz-btn" data-tooltip="Quiz">❓</button>
                <button id="toggle-aprendizaje-btn" data-tooltip="Modo Aprendizaje">🎯</button>
                
                <div class="level-buttons">
                    <button class="nivel-btn" data-nivel="basico" data-tooltip="Básico">🌱</button>
                    <button class="nivel-btn" data-nivel="intermedio" data-tooltip="Intermedio">⭐</button>
                    <button class="nivel-btn" data-nivel="avanzado" data-tooltip="Avanzado">🔥</button>
                </div>
            </div>

            <div class="center-section">
                <div class="search-container">
                    <div class="search-group">
                        <select id="tema-filter">
                            <option value="">Filtrar por tema</option>
                            <option value="POO">POO</option>
                            <option value="Herencia">Herencia</option>
                            <option value="Polimorfismo">Polimorfismo</option>
                            <option value="Singleton">Singleton</option>
                            <option value="Factory">Factory</option>
                        </select>
                        <input type="text" id="search-input" placeholder="🔍 Buscar...">
                    </div>
                    <button id="search-btn">Buscar</button>
                </div>
                
                <div id="chatbox" class="chat-content">
                    <div class="message-container"></div>
                </div>

                <div class="input-group">
                    <input type="text" id="input" placeholder="Escribe tu mensaje...">
                    <button id="btn-start-voice" data-tooltip="Iniciar Voz">🎤</button>
                    <button id="btn-stop-voice" data-tooltip="Detener Voz">🛑</button>
                    <button id="btn-pause-speech" data-tooltip="Pausar Voz">⏸️</button>
                    <button id="send-btn" data-tooltip="Enviar">➤</button>
                </div>
            </div>

            <div class="right-section">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="asistente">Asistente</button>
                    <button class="tab-btn" data-tab="historial">Historial</button>
                </div>

                <div class="tab-content">
                    <div class="asistente active">
                        <h3>Selecciona tu Avatar</h3>
                        <div class="avatar-options"></div>
                        <p>Nota: Avatar predeterminado (D-ID no disponible).</p>
                        <canvas id="lip-sync-canvas" width="60" height="60"></canvas>
                    </div>

                    <div class="historial">
                        <h3>Historial de Chats</h3>
                        <ul id="chat-list"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="aprendizajeCard" class="card">
            <h3>Modo Aprendizaje</h3>
            <input type="text" id="nuevaPregunta" placeholder="Nueva pregunta">
            <textarea id="nuevaRespuesta" placeholder="Nueva respuesta"></textarea>
            <button id="learnBtn">Aprender</button>
        </div>

        <div id="notification-card" class="card"></div>
    </div>
</body>
</html>