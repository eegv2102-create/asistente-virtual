<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>💻 Tesis</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/marked@14.1.2/lib/marked.umd.min.js" integrity="sha256-0jPHqYk/qUkL9r2gW3N4yWSN+3K7h8VKB1W6j0N4z1I=" crossorigin="anonymous"></script>
    <script>
        if (typeof marked === 'undefined') {
            document.write('<script src="{{ url_for('static', filename='js/marked.min.js') }}"><\/script>');
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaQOfCdyW//5h6dVnaA/A01D3hYGqM68+04qSY8o1rN2M3G7D2l2WMcjXyqAGr59eDR2c8L5BsjA==" crossorigin="anonymous"></script>
    <script>
        if (typeof Prism === 'undefined') {
            document.write('<script src="{{ url_for('static', filename='js/prism.min.js') }}"><\/script>');
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js" integrity="sha512-1x3pZ1p/vqN2gDKlHHt1XujK2A9FW8eWvryoE4N3+FeR+8m/iF4Q2oPriv2yV8G8A7m7r+0eKFrLFsTKc/Muf3Q==" crossorigin="anonymous"></script>
</head>
<body>
    <div class="title-container">
        <h2 class="app-title">🧠 Y.E.L.I.A. 🤖</h2>
        <button class="menu-toggle" aria-label="Abrir menú lateral" aria-expanded="false" aria-controls="left-section">
            <i class="fas fa-bars"></i>
        </button>
        <button class="menu-toggle-right" aria-label="Abrir menú de avatares" aria-expanded="false" aria-controls="right-section">
            <i class="fas fa-bars"></i>
        </button>
    </div>
    <div class="container">
        <aside class="left-section" id="left-section">
            <div class="sidebar-content">
                <div class="sidebar-buttons">
                    <button id="modo-btn" data-tooltip="Modo Oscuro">
                        <i class="fas fa-moon"></i> <span id="modo-text">Modo Oscuro</span>
                    </button>
                    <button id="voice-btn" data-tooltip="Activar Voz">
                        <i class="fas fa-volume-up"></i> <span id="voice-text">Activar Voz</span>
                    </button>
                    <button id="quiz-btn" data-tooltip="Iniciar Quiz">
                        <i class="fas fa-question-circle"></i> Iniciar Quiz
                    </button>
                    <button id="recommend-btn" data-tooltip="Recomendar Tema">
                        <i class="fas fa-lightbulb"></i> Recomendar Tema
                    </button>
                </div>
                <h3>Historial de Chats</h3>
                <div class="chat-history">
                    <ul id="chat-list" role="list" aria-label="Lista de conversaciones guardadas"></ul>
                </div>
            </div>
        </aside>
        <main class="main-section">
            <div id="voice-hint" class="voice-hint" style="display: none;" aria-live="polite">
                Haz clic en cualquier lugar para habilitar la voz
            </div>
            <div id="chatbox">
                <div class="message-container"></div>
            </div>
            <div class="input-group">
                <div class="input-buttons left">
                    <button id="new-chat-btn" data-tooltip="Nuevo Chat">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button id="btn-clear" data-tooltip="Limpiar Chat">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
                <select id="nivel-explicacion" aria-label="Nivel de explicación">
                    <option value="basica">Explicación Básica</option>
                    <option value="ejemplos">Con Ejemplos de Código</option>
                    <option value="avanzada">Avanzada/Teórica</option>
                </select>
                <div class="dropdown-container">
                    <button id="nivel-btn" aria-label="Seleccionar nivel de explicación">Básica</button>
                    <div class="dropdown-menu">
                        <button data-nivel="basica">Explicación Básica</button>
                        <button data-nivel="ejemplos">Con Ejemplos de Código</button>
                        <button data-nivel="avanzada">Avanzada/Teórica</button>
                    </div>
                </div>
                <input type="text" id="input" placeholder="Escribe tu mensaje..." aria-label="Escribir mensaje">
                <div class="input-buttons right">
                    <button id="voice-toggle-btn" data-tooltip="Voz">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button id="send-btn" data-tooltip="Enviar">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </main>
        <aside class="right-section" id="right-section">
            <div class="avatar-section">
                <h3>Selección de Avatar</h3>
                <p>Funcionalidad de avatares estará disponible pronto con D-ID.</p>
                <div class="avatar-options"></div>
            </div>
        </aside>
        <div id="notification-card"></div>
        <div id="quiz-modal" style="display: none;">
            <div class="modal-content">
                <h3 id="quiz-question"></h3>
                <div id="quiz-options"></div>
                <div class="modal-buttons">
                    <button id="quiz-submit">Enviar</button>
                    <button onclick="document.getElementById('quiz-modal').style.display='none'">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>