<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente de Programaci칩n Avanzada</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.0/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPDF/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js" defer></script>
</head>
<body class="nivel-basico">
    <div class="container">
        <button class="menu-toggle"><i class="fas fa-bars"></i></button>
        <button class="menu-toggle-right"><i class="fas fa-bars"></i></button>
        
        <h2>游눹 Asistente de Programaci칩n Avanzada</h2>

        <div class="main-layout">
            <section class="left-section">
                <button id="toggle-aprendizaje" data-tooltip="Modo Aprendizaje" aria-label="Activar modo aprendizaje"><i class="fas fa-book"></i></button>
                <button id="modo-btn" data-tooltip="Modo Claro/Oscuro" aria-label="Cambiar modo claro/oscuro"><i class="fas fa-sun"></i></button>
                <button id="voice-btn" data-tooltip="Activar/Desactivar Voz" aria-label="Activar/desactivar voz"><i class="fas fa-volume-up"></i></button>
                <button id="exportTxtBtn" data-tooltip="Exportar TXT" aria-label="Exportar chat como TXT"><i class="fas fa-file-alt"></i></button>
                <button id="exportPdfBtn" data-tooltip="Exportar PDF" aria-label="Exportar chat como PDF"><i class="fas fa-file-pdf"></i></button>
                <button id="btn-clear" data-tooltip="Limpiar Chat" aria-label="Limpiar chat"><i class="fas fa-trash"></i></button>
                <button id="new-chat-btn" data-tooltip="Nuevo Chat" aria-label="Iniciar nuevo chat"><i class="fas fa-plus"></i></button>
                <button id="quiz-btn" data-tooltip="Generar Quiz" aria-label="Generar quiz"><i class="fas fa-question-circle"></i></button>
                <button id="recommend-btn" data-tooltip="Recomendar Tema" aria-label="Recomendar tema"><i class="fas fa-lightbulb"></i></button>
                
                <div class="level-buttons">
                    <button class="nivel-btn" data-nivel="basico" data-tooltip="B치sico" aria-label="Nivel B치sico"><i class="fas fa-seedling"></i></button>
                    <button class="nivel-btn" data-nivel="intermedio" data-tooltip="Intermedio" aria-label="Nivel Intermedio"><i class="fas fa-star"></i></button>
                    <button class="nivel-btn" data-nivel="avanzado" data-tooltip="Avanzado" aria-label="Nivel Avanzado"><i class="fas fa-fire"></i></button>
                </div>
            </section>

            <section class="center-section">
                <div class="chat-content">
                    <div class="search-container">
                        <div class="search-group">
                            <select id="tema-filter" aria-label="Filtrar por tema">
                                <option value="">Filtrar por tema</option>
                                <option value="POO">POO</option>
                                <option value="Herencia">Herencia</option>
                                <option value="Polimorfismo">Polimorfismo</option>
                                <option value="Singleton">Singleton</option>
                                <option value="Factory">Factory</option>
                            </select>
                            <input type="text" id="search-input" placeholder="Buscar tema..." aria-label="Buscar tema">
                            <button id="search-btn" aria-label="Buscar"><i class="fas fa-search"></i></button>
                        </div>
                    </div>
                    <div id="chatbox" aria-live="polite">
                        <div class="message-container"></div>
                    </div>
                    <div class="input-group">
                        <input type="text" id="input" placeholder="Escribe tu pregunta..." aria-label="Escribe tu pregunta">
                        <button id="send-btn" aria-label="Enviar mensaje"><i class="fas fa-paper-plane"></i></button>
                        <button id="btn-start-voice" aria-label="Iniciar reconocimiento de voz"><i class="fas fa-microphone"></i></button>
                        <button id="btn-stop-voice" disabled aria-label="Detener reconocimiento de voz"><i class="fas fa-stop"></i></button>
                        <button id="btn-pause-speech" disabled aria-label="Pausar voz de IA"><i class="fas fa-pause"></i></button>
                        <button id="btn-resume-speech" disabled aria-label="Reanudar voz de IA"><i class="fas fa-play"></i></button>
                    </div>
                </div>
            </section>

            <section class="right-section">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="asistente" aria-selected="true">Asistente</button>
                    <button class="tab-btn" data-tab="historial" aria-selected="false">Historial</button>
                </div>
                <div class="tab-content">
                    <div class="asistente active">
                        <h3>Selecciona tu Avatar</h3>
                        <div class="avatar-options"></div>
                        <p>Nota: Avatar predeterminado (D-ID no disponible).</p>
                        <canvas id="lip-sync-canvas" width="50" height="50"></canvas>
                    </div>
                    <div class="historial">
                        <h3>Historial de Chats</h3>
                        <ul id="chat-list"></ul>
                        <div id="analytics-container"></div>
                    </div>
                </div>
            </section>
        </div>

        <div id="notification-card" class="card"></div>
        <div id="aprendizajeCard" class="card">
            <h3>Modo Aprendizaje</h3>
            <input type="text" id="nuevaPregunta" placeholder="Pregunta..." aria-label="Nueva pregunta">
            <textarea id="nuevaRespuesta" placeholder="Respuesta..." aria-label="Nueva respuesta"></textarea>
            <button id="learnBtn" aria-label="Aprender">Aprender</button>
        </div>
    </div>
</body>
</html>